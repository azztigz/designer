{"version":3,"sources":["app.coffee"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["\"use strict\";\n\napps = new (Marionette.Application)\n\napps.addRegions\n  rightRegion: '#content-template'\n  sidebar: '#sidebar_menu'\n  catlists: '#catlists'\n  preview: '#preview_wrap'\n  pagination: '#content-pagination'\n\napps.Lists = Backbone.Model.extend();\n\napps.ListsCollection = Backbone.Collection.extend(\n  model: apps.Lists \n  # comparator: 'id'\n)\n\napps.lists = new (apps.ListsCollection)([\n  {\n    'id': '1'\n    'name': 'Recent'\n    'icon': '<i class=\"fa fa-folder-open-o\"></i>'\n  }\n  {\n    'id': '2'\n    'name': 'Works'\n    'icon': '<i class=\"fa fa-folder-o\"></i>'\n  }\n  {\n    'id': '3'\n    'name': 'Templates'\n    'icon': '<i class=\"fa fa-list\"></i>'\n  }\n])\n\n\n\napps.module 'App', (App, apps, Backbone, Marionette, $, _) ->\n\n  App.currentpage = ''\n  App.temp = 'Templates'\n  App.page = 'Recent'\n  App.link = $('#link').attr('value')\n\n  App.getInfo = (col, vw, ur, reg, id) ->\n    col = new (apps.ListsCollection)()\n    col.fetch\n      url: ur\n      data:\n        id:id\n      success: ->\n        layout = new (vw)(\n          collection: col\n        )\n        reg.show layout\n      error: ->\n        # alert 'You are not authorized to access this site!!!'\n        # window.location = '/'\n\n  App.getInfoOne = (col, vw, ur, reg, id, page) ->\n    col = new (apps.Lists)()\n    col.fetch\n      url: ur\n      data:\n        id:id\n        page:page\n      success: ->\n        layout = new (vw)(\n          collection: col\n        )\n        reg.show layout\n      error: ->\n        # alert 'You are not authorized to access this site!!!'\n        # window.location = '/'\n\n  App.Route = Backbone.Marionette.AppRouter.extend\n    routes:\n      '': 'view'\n      ':page': 'view'\n      ':page/:id' : 'goTo'\n      ':page/:slug/:id': 'dispTemp'\n    view: (page, id) ->\n      $('.editor_overlay').css('display','block')\n      $('#content-pagination').empty()\n      if page == null\n        page = App.page\n      App.currentpage = page;\n\n      if page != \"Templates\"\n        if page == \"Works\"\n          App.getInfoOne 'works', App.contentView, '/editor/works?link='+App.link, apps.rightRegion, id\n        else\n          App.getInfoOne 'recent', App.contentView, '/editor/works?link='+App.link, apps.rightRegion, 'recent'\n      else\n        App.getInfoOne 'temp', App.dispTempView, '/editor/categories?link='+App.link, apps.rightRegion, 'all'\n\n    dispTemp: (page, slug, id) ->\n      $('#cat_id').attr 'value', id\n      $('.editor_overlay').css('display','block')\n      App.currentpage = page;\n      App.getInfoOne 'temps', App.dispTempView, '/editor/categories?link='+App.link, apps.rightRegion, id\n    goTo: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n\n      alert id\n\n  App.viewInfo = Marionette.ItemView.extend\n    template: '#info-view'\n\n  App.defaultView = Marionette.LayoutView.extend\n    onAttach: ->\n      $('.' + App.currentpage).addClass 'active'\n    initialize: ->\n      @router = new (App.Route)\n      if !Backbone.History.started\n        Backbone.history.start()\n    template: '#menu_template'\n    checkTemp: (id) -> \n      if id == App.temp\n        App.getInfo 'cat', App.categories, '/editor/categories?link='+App.link, apps.catlists\n\n        $(\"#collapseExample\").slideToggle 'slow'\n      else\n        $(\"#collapseExample\").hide()\n    events:\n      'click a': 'checkA'\n    checkA: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n\n      $('#sidebar_menu a').each ->\n       $('#' + @id).removeClass 'active'\n\n      $('#' + id).addClass 'active'\n      this.checkTemp(id)\n      @router.navigate id, true\n\n\n  App.contentView = Marionette.LayoutView.extend\n    template: '#cont_template'\n    onShow: ->\n      imgLoaded 'content_temp'\n      pages = this.collection.attributes.pages\n      $('#pages').attr 'value', pages\n      \n      $('.editor_overlay').css('display','none')\n      \n    templateHelpers: ->\n      { \n        link: ->\n          \"?link=\"+App.link\n      }\n    events:\n      \"click #content_temp img\": \"checkImg\"\n    checkImg: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n\n      temp = new apps.Lists({id:id, type:'mWork'});\n\n      layout = new App.previewTemp\n        model:temp\n      \n      apps.preview.show layout\n\n  App.categories = Marionette.ItemView.extend\n    template: '#categories'\n    events:\n      \"click #cat_lists a\": \"checkCat\"\n    checkCat: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n      $('#cat_lists a').each ->\n       $('#' + @id).removeClass 'active'\n\n      $('#' + id).addClass 'active'\n\n\n  App.dispTempView = Marionette.LayoutView.extend\n    template: '#temp_template'\n    onShow: ->\n      imgLoaded 'content_temp'\n      pages = this.collection.attributes.pages\n     \n      $('.editor_overlay').css('display','none')\n      $('#pages').attr 'value', pages\n      if pages != 0\n        p = new apps.Lists({\n            page: pages\n          })\n        layout = new App.paginationView\n          model: p\n        apps.pagination.show layout\n      else\n        $('#content-pagination').empty()\n\n      \n    events:\n      \"click #content_temp img\": \"checkImg\"\n    templateHelpers: ->\n      { \n        link: ->\n          \"?link=\"+App.link\n      }\n    checkImg: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n\n      temp = new apps.Lists({id:id, type:'mTemplate'});\n\n      layout = new App.previewTemp\n        model:temp\n      \n      apps.preview.show layout\n\n  App.previewTemp = Marionette.ItemView.extend\n    template: '#preview_template'\n    onShow: ->\n      $('.editor_overlay').fadeOut 'slow'\n    templateHelpers: ->\n      { \n        link: ->\n          \"?link=\"+App.link\n      }\n    events:\n      \"click #goTo \":\"goTo\"\n    goTo: (e) ->\n      link = App.link\n      id = $(e.currentTarget).attr 'data-id'\n      type = $(e.currentTarget).attr 'data-type'\n      img = $(e.currentTarget).attr 'data-link'\n\n      if img == 'mTemplate'\n        copyTemp = Backbone.Model.extend(\n          url: '/editor/copytemp?link='+App.link\n        )\n        cpTemp = new copyTemp(\n          tempid: id\n        )\n        cpTemp.save null,\n          success: (model, data) ->\n            if data.status == 0\n              window.location = \"editor/svgeditor?page=\"+img+\"&id=\"+data.id+\"&type=\"+type+\"&link=\"+link\n          error: (model, response) ->\n            console.log response.statusText\n        # window.location = \"editor/svgeditor?page=\"+img+\"&id=\"+id+\"&type=\"+type+\"&link=\"+link\n      else\n        window.location = \"editor/svgeditor?page=\"+img+\"&id=\"+id+\"&type=\"+type+\"&link=\"+link\n  App.copyTemp = (id) ->\n    copyTemp = Backbone.Model.extend(\n      url: '/editor/copytemp?link='+App.link\n    )\n    cpTemp = new copyTemp(\n      tempid: id\n    )\n\n    cpTemp.save null,\n      success: (model, data) ->\n        if data.status == 0\n          data.id\n      error: (model, response) ->\n        console.log response.statusText\n\n  App.paginationView = Marionette.LayoutView.extend\n    template: '#pagination_template'\n    initialize: ->\n      # console.log this.model\n    events:\n      \"click li a\":\"getPage\"\n    getPage: (e)->\n      li = $(e.currentTarget).attr('id')\n      $('#temp_pagination li').each ->\n       $('li').removeClass 'active'\n\n      $('.pag' + li).addClass 'active'\n\n      $('.editor_overlay').css('display','block')\n      page = $(e.currentTarget).attr('data-page')\n      cat_id = $('#cat_id').val()\n      App.getInfoOne 'page', App.tempPageView, '/editor/tempPage?link='+App.link, apps.rightRegion, cat_id, page\n\n  App.paginationWorkView = Marionette.LayoutView.extend\n    template: '#pagination_template'\n    initialize: ->\n      # console.log this.model\n    events:\n      \"click li a\":\"getPage\"\n    getPage: (e)->\n      li = $(e.currentTarget).attr('id')\n      $('#temp_pagination li').each ->\n       $('li').removeClass 'active'\n\n      $('.pag' + li).addClass 'active'\n\n      $('.editor_overlay').css('display','block')\n      page = $(e.currentTarget).attr('data-page')\n      cat_id = $('#cat_id').val()\n      \n      # App.getInfoOne 'page', App.tempPageView, '/editor/workPage?link='+App.link, apps.rightRegion, cat_id, page\n\n  App.tempPageView = Marionette.LayoutView.extend\n    template: '#temp_template'\n    onShow: ->\n      imgLoaded 'content_temp'\n      $('.editor_overlay').css('display','none')\n    events:\n      \"click #content_temp img\": \"checkPage\"\n    templateHelpers: ->\n      { \n        link: ->\n          \"?link=\"+App.link\n      }\n    checkPage: (e) ->\n      clickedEl = $(e.currentTarget)\n      id = clickedEl.attr('id')\n\n      temp = new apps.Lists({id:id, type:'mTemplate'});\n\n      layout = new App.previewTemp\n        model:temp\n      \n      apps.preview.show layout\n\n  App.addInitializer ->\n    layout = new (App.defaultView)(collection: apps.lists)\n    apps.sidebar.show layout \n\n\nimgLoaded = (divwrap) ->\n  $('#'+divwrap).imagesLoaded().always((instance) ->\n    #   console.log 'all images loaded'\n    # ).done((instance) ->\n    #   console.log 'all images successfully loaded'\n    # ).fail(->\n    #   console.log 'all images loaded, at least one is broken'\n    ).progress (instance, image) ->\n      $item = $( image.img ).parent();\n      $item.removeClass('is-loading');\n      result = if image.isLoaded then 'loaded' else 'broken'\n      # console.log 'image is ' + result + ' for ' + image.img.src\n"]}